%==========================================================================
% File: poly3.m
% Author: Gabriele Gualandi     Date: 2024     Ver: 1.1
% MÃ¤lardalens University - Course in Industrial Robotics
%==========================================================================

function qNow = poly3(conditionsValue,conditionsTime,t)
% Hard-coded version of a polynomial of degree 3 (P3).
% The hard-coded polynomial used here was generated by means of: poli3generateSym.m (see that script for more info)
%
% Inputs:
% conditionsValue: [q_i q_f dq_i dq_f]
% conditionsTime: [t_i t_f t]
% current time: t
% Output:
% qNow: values of the polynomial at the given time
%
% Note: you can provide inputs as symbolic

% Unrwap inputs
q_i = conditionsValue(1);
q_f = conditionsValue(2);
dq_i = conditionsValue(3);
dq_f = conditionsValue(4);
t_i = conditionsTime(1);
t_f = conditionsTime(2);

% Subst values in the hard-coded polynomial
qNow = q_i + dq_i*(t - t_i) - ((t - t_i)^3*(2*q_f - 2*q_i - dq_f*t_f - dq_i*t_f + dq_f*t_i + dq_i*t_i))/(t_f - t_i)^3 + ((t - t_i)^2*(3*q_f - 3*q_i - dq_f*t_f - 2*dq_i*t_f + dq_f*t_i + 2*dq_i*t_i))/(t_f - t_i)^2;

end

